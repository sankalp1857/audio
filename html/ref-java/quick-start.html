<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0016)http://localhost -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<title>TrulyNatural SDK: Quick Start</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="Java Docs (7.4.0)"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 64px;">
  <td id="projectlogo"><img alt="Logo" src="sensory96.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TrulyNatural SDK
   &#160;<span id="projectnumber">7.4.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<div id="language">
  <ul class="sm sm-dox" id="language-menu">
    <li id="label">API Language:</li>
    <li><a href="../ref-c/index.html">C</a></li>
    <li><a href="../ref-java/index.html" class="current">Java</a></li>
  </ul>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('quick-start.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Quick Start </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Getting started with TrulyNatural SDK development.</p>
<ul>
<li><a class="el" href="quick-start.html#quick-start-android">Android sample apps</a></li>
<li><a class="el" href="quick-start.html#quick-start-java">Java samples</a></li>
<li><a class="el" href="quick-start.html#quick-start-maven-local">Publish artifacts</a></li>
</ul>
<h1><a class="anchor" id="quick-start-android"></a>
Android sample apps</h1>
<p>Android application samples are in <em>sample/android/</em> in the TrulyNatural installation directory.</p>
<h2>EnrollTrigger</h2>
<p>This sample shows basic User-Defined Trigger enrollment and phrase spotting.</p>
<h3>Build the code</h3>
<p><a href="https://developer.android.com/studio/index.html">Android Studio</a> 3.0 or later is required.</p>
<ul>
<li>Using Android Studio<ul>
<li>Open <em>sample/android/enroll-udt/</em> as an existing Android Studio project.</li>
<li>Connect your device, or create an emulator instance (use an x86_64 image for best performance.) Please note that the sample records audio at 16 kHz, which is not universally supported in the emulator.</li>
<li>Press the Play button to build and run the app.</li>
</ul>
</li>
<li>Using Gradle on the command line:<ul>
<li>Open a terminal window and change the working directory to the <code>sample/android/enroll-udt</code> subdirectory of the TrulyNatural installation.</li>
<li>Set the ANDROID_HOME environment to point to the Android SDK. For example:<div class="fragment"><div class="line">export ANDROID_HOME=$HOME/Library/Android/sdk </div></div><!-- fragment --></li>
<li>Connect your device.</li>
<li>Run<div class="fragment"><div class="line">./gradlew installDebug </div></div><!-- fragment --> or <div class="fragment"><div class="line">gradlew.bat installDebug </div></div><!-- fragment --></li>
</ul>
</li>
</ul>
<h3>Run the app</h3>
<ul>
<li>Open the <code>EnrollTrigger</code> app.</li>
<li>Pick an enrollment phrase such as "Hello blue genie."</li>
<li>Press "ENROLL" and follow the instructions.<ul>
<li>Say the phrase when prompted.</li>
<li>Enrollment will continue until three good recordings have been made. If an enrollment does not pass the quality checks the reason for the failure, along with a suggestion on how to correct it, will be shown.</li>
</ul>
</li>
<li>Once enrollment is complete, press "TALK"</li>
<li>Say the enrollment phrase.</li>
<li>When spotted, the log window will show the beginning and end times of the phrase relative to the start of the audio stream, and the speaker verification score (<a class="el" href="classcom_1_1sensory_1_1speech_1_1snsr_1_1Snsr.html#aa492e25eb4429546b349db37e9bc803a">Snsr.RES_SV_SCORE</a>).</li>
</ul>
<h2>Configure an app for TrulyNatural</h2>
<h3>Add AUDIO_RECORD permission</h3>
<p>If using live audio recording, add the <code>RECORD_AUDIO</code> <a href="https://developer.android.com/guide/topics/security/permissions.html">permission</a> to the application AndroidManifest.xml file:</p>
<div class="fragment"><div class="line">&lt;uses-permission android:name=<span class="stringliteral">&quot;android.permission.RECORD_AUDIO&quot;</span> /&gt;</div></div><!-- fragment --><h3>Gradle build script configuration</h3>
<p>To add the TrulyNatural SDK to a new app:</p>
<p>Add to <em>app/build.gradle</em>:</p><ul>
<li>The SDK local repository: <div class="fragment"><div class="line">repositories {</div><div class="line">       maven {</div><div class="line">           url &quot;${SNSR_REPOSITORY}&quot;</div><div class="line">       }</div><div class="line">       mavenLocal()</div><div class="line">}</div></div><!-- fragment --></li>
<li>TrulyNatural model helper: <div class="fragment"><div class="line">apply from: &#39;../gradle/model-utils.gradle&#39;</div><div class="line"></div><div class="line">configurations {</div><div class="line">       snsr_model</div><div class="line">}</div></div><!-- fragment --></li>
<li>In the <code>dependencies</code> section, add: <div class="fragment"><div class="line">    // TrulyHandsfree SDK dependencies</div><div class="line">    implementation &quot;com.sensory.speech.snsr:${SNSR_LIB_TYPE}:${SNSR_LIB_VERSION}@aar&quot;</div><div class="line">    // TrulyHandsdfree task model</div><div class="line">    snsr_model &quot;com.sensory.speech.snsr.model:udt-universal:${ENROLL_UDT_VERSION}@snsr&quot;</div></div><!-- fragment --></li>
</ul>
<p>Copy <em>util/model-utils.gradle</em> to <em>gradle/model-utils.gradle</em>.</p>
<p>Add configuration settings to <em>gradle.properties:</em> </p><ul>
<li><div class="fragment"><div class="line"># Sensory TrulyHandsfree configuration</div><div class="line">SNSR_REPOSITORY=/Users/sankalp/Sensory/TrulyNaturalSDK/7.4.0/m2repository</div><div class="line">SNSR_LIB_TYPE=tnl</div><div class="line">SNSR_LIB_VERSION=7.4.0</div><div class="line">ENROLL_UDT_VERSION=3.66.1.9</div></div><!-- fragment --></li>
</ul>
<h2>SpotDebug</h2>
<p>This sample shows how to log spotter debug information using the <a class="el" href="task.html#tpl-spot-debug">tpl-spot-debug</a> template.</p>
<p>Log data are written to <em>Sensory/Logs/SpotDebug-&lt;timestamp&gt;</em>.log on external storage.</p><ul>
<li>Copy these to the development host.</li>
<li>Extract text, audio and the spotter model with <code>snsr-log-split</code>, see <a class="el" href="tools.html#snsr-log-split">snsr-log-split</a>.</li>
<li>Check audio quality with <code>audio-check</code>, see <a class="el" href="tools.html#audio-check">audio-check</a>.</li>
</ul>
<h1><a class="anchor" id="quick-start-java"></a>
Java samples</h1>
<p>Android application samples are in <em>sample/java/</em> in the TrulyNatural installation directory.</p>
<h2>UDT Enrollment and Evaluation</h2>
<p>This sample code in <em>sample/java/enroll-udt/</em> shows basic User-Defined Trigger enrollment and phrase spotting.</p>
<h3>Build and run the code</h3>
<p>The <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">Java JDK</a> 1.7 or 1.8 is required.</p>
<h4>UDT enrollment</h4>
<p>Open a terminal window and change the working directory to the <em>sample/java/enroll-udt/</em> subdirectory of the TrulyNatural SDK installation.</p>
<p>Choose a phrase spot trigger phrase (for example "Hello blue genie" or "Hey Sensory"), then type </p><div class="fragment"><div class="line">./gradlew -q --console=plain enroll </div></div><!-- fragment --><p> or </p><div class="fragment"><div class="line">gradlew.bat -q --console=plain enroll </div></div><!-- fragment --><p> and follow the prompts. Successful enrollment will create a new phrase spotter model file in <em>build/model/enrolled-sv.snsr</em> and the enrollment context in <em>build/model/enrollment-context.snsr</em>.</p>
<p>Do additional enrollments by specifying a unique phrase tag on the command line:</p><div class="fragment"><div class="line">./gradlew -q --console=plain enroll -Ptag=second-phrase </div></div><!-- fragment --><p> New enrollments will replace previous enrollments with the same tag.</p>
<p>Remove <em>build/model/enrollment-context.snsr</em> to delete all enrollments and start over.</p>
<p>See <a class="el" href="enrollUDT_8java-example.html">enrollUDT.java</a> for the application source.</p>
<h4>Phrase spot evaluation</h4>
<p>From the same directory used in the enrollment above, type: </p><div class="fragment"><div class="line">./gradlew -q --console=plain eval </div></div><!-- fragment --><p> or </p><div class="fragment"><div class="line">gradlew.bat -q --console=plain eval </div></div><!-- fragment --><p> and say your enrolled trigger phrase. You should see printed feedback with each successful spot. The <em>eval</em> sample will stop listening after 60 seconds.</p>
<p>See <a class="el" href="evalUDT_8java-example.html">evalUDT.java</a> for the application source.</p>
<h4>Phrase spot audio capture</h4>
<p>This sample shows how to capture and save audio directly following a spotted phrase. Type:</p><div class="fragment"><div class="line">./gradlew -q --console=plain segment </div></div><!-- fragment --><p> and follow the prompt. Audio directly following the trigger phrase is saved to <em>segmented-audio.wav</em> </p>
<p>Run</p><div class="fragment"><div class="line">./gradlew -q --console=plain segment -Pinclude-spot </div></div><!-- fragment --><p> to include the spotted phrase in the captured audio.</p>
<h1><a class="anchor" id="quick-start-maven-local"></a>
Publish artifacts</h1>
<p>The default build configuration uses the Maven 2 repository installed with the SDK, <em>m2repository/</em> in the installation root. Another alternative is to publish the TrulyNatural artifacts to the local Maven repository and use that instead:</p>
<p>In <em>util/</em>, run</p><div class="fragment"><div class="line">./gradlew publishToMavenLocal </div></div><!-- fragment --><p> or </p><div class="fragment"><div class="line">gradlew.bat publishtoMavenLocal </div></div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
    Copyright &copy;2002-2025
    <a href="http://www.sensory.com/">Sensory Inc.</a>
    (Mon Feb 17 2025)
    <span class="confidential">
      <a href="license.html">Sensory Confidential</a>
    </span>
    </li>
  </ul>
</div>
</body>
</html>
